<?xml version="1.0"?>
<odoo>
    <record id="sale_order_report_inherit" model="ir.ui.view">
        <field name="name">sale_order_report_inherit</field>
        <field name="inherit_id" ref="sale.report_saleorder_document"/>
        <field name="arch" type="xml">
            <xpath expr="//h2[@class='mt-4']" position="replace">
                <h2 class="mt-4">
                    <span t-if="env.context.get('proforma', False) or is_pro_forma">Factura Pro-Forma # </span>
                    <span t-elif="doc.state in ['draft','sent']">Presupuesto OE<t t-esc="doc.name[1:]"/>
                    </span>
                    <span t-else="">Orden OE<t t-esc="doc.name[1:]"/>
                    </span>
                </h2>
                <!-- LA IMAGEN -->
                <t t-if="doc.partner_id.avatar_1920">
                    <div style="text-align: center; margin-top: 20px">
                        <img t-att-src="'data:image/png;base64,' + doc.partner_id.avatar_1920.decode('utf-8')" t-att-alt="doc.partner_id.name" t-att-style="'height: 400px; width: auto;'"/>
                    </div>
                </t>

            </xpath>

            <xpath expr="//t[@t-set='information_block']" position="replace">
                <t t-set="information_block">
                    <t t-if="doc.partner_shipping_id != doc.partner_invoice_id">
                        <strong style="font-size: 20px;">Dirección de entrega:</strong>
                        <div style="font-size: 20px;" t-field="doc.partner_shipping_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;, &quot;phone&quot;], &quot;no_marker&quot;: True, &quot;phone_icons&quot;: True}"/>
                    </t>
                </t>
            </xpath>

            <xpath expr="//t[@t-set='address']" position="replace">
                <t t-set="address">
                    <div style="font-size: 20px;" t-field="doc.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;], &quot;no_marker&quot;: True}"/>
                    <p style="font-size: 20px;" t-if="doc.partner_id.vat">
                        <t t-out="doc.company_id.account_fiscal_country_id.vat_label or 'Tax ID'"/>
:                        <span t-field="doc.partner_id.vat"/>
                    </p>
                </t>

            </xpath>

            <!-- Eliminar el comercial -->
            <xpath expr="//div[@class='col-auto col-3 mw-100 mb-2' and strong[text()='Salesperson:']]" position="replace">
            </xpath>

            <xpath expr="//p[@t-field='doc.date_order']" position="attributes">
                <attribute name="style">font-size: 20px;</attribute>
            </xpath>
            <xpath expr="//p[@t-field='doc.validity_date']" position="attributes">
                <attribute name="style">font-size: 20px;</attribute>
            </xpath>
            <xpath expr="//table[@class='table table-sm o_main_table table-borderless mt-4']" position="attributes">
                <attribute name="style">font-size: 20px;</attribute>
            </xpath>

            <xpath expr="//div[@name='so_total_summary']" position="attributes">
                <attribute name="style">font-size: 20px;</attribute>
            </xpath>

            <xpath expr="/t/t/div/div[4]" position="after">
                <!-- LA TABLA DE CONDICIONES ECONOMICAS -->
                <!-- Son campos Odoo Studio que creó Ana. No están en ningún módulo -->
                <div>
                    <span t-field="doc.x_studio_html_field_BvoDh"/>
                    <span t-field="doc.x_studio_html_field_fdmpF"/>
                </div>
            </xpath>
        </field>
    </record>
</odoo>
